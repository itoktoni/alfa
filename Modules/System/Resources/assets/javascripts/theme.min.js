window.theme={},function($){"use strict";var $items;function expand($li){$li.children("ul.nav-children").slideDown("fast",function(){$li.addClass("nav-expanded"),$(this).css("display",""),ensureVisible($li)})}function collapse($li){$li.children("ul.nav-children").slideUp("fast",function(){$(this).css("display",""),$li.removeClass("nav-expanded")})}function ensureVisible($li){var scroller=$li.offsetParent();if(!scroller.get(0))return!1;var top=$li.position().top;top<0&&scroller.animate({scrollTop:scroller.scrollTop()+top},"fast")}$(".nav-main li.nav-parent").find("> a").on("click",function(ev){var $anchor=$(this),$prev=$anchor.closest("ul.nav").find("> li.nav-expanded"),$next=$anchor.closest("li");if($anchor.prop("href")){var arrowWidth=parseInt(window.getComputedStyle($anchor.get(0),":after").width,10)||0;ev.offsetX>$anchor.get(0).offsetWidth-arrowWidth&&ev.preventDefault()}$prev.get(0)!==$next.get(0)?(collapse($prev),expand($next)):collapse($prev)})}.apply(this,[jQuery]),function(theme,$){"use strict";theme=theme||{};var $body=$("body"),$html=$("html"),$window=$(window);void 0!==$.browser&&$.browser.mobile&&$html.hasClass("fixed")&&$html.removeClass("fixed").addClass("scroll");var Skeleton={options:{sidebars:{menu:"#content-menu",left:"#sidebar-left",right:"#sidebar-right"}},customScroll:!Modernizr.overflowscrolling&&"undefined"!==$.fn.nanoScroller,initialize:function(){this.setVars().build().events()},setVars:function(){return this.sidebars={},this.sidebars.left={$el:$(this.options.sidebars.left)},this.sidebars.right={$el:$(this.options.sidebars.right),isOpened:$html.hasClass("sidebar-right-opened")},this.sidebars.menu={$el:$(this.options.sidebars.menu),isOpened:$html.hasClass("inner-menu-opened")},this},build:function(){return void 0!==$.browser&&$.browser.mobile?$html.addClass("mobile-device"):$html.addClass("no-mobile-device"),$html.addClass("custom-scroll"),this.customScroll&&this.buildContentMenu(),this.buildSidebarRight(),this},events:function(){return this.eventsSidebarRight(),this.eventsContentMenu(),void 0!==$.browser&&!this.customScroll&&isAndroid&&this.fixScroll(),this},fixScroll:function(){var _self=this;$window.on("sidebar-left-opened sidebar-right-toggle",function(e,data){_self.preventBodyScrollToggle(data.added)})},buildSidebarRight:function(){return this.sidebars.right.isOpened=$html.hasClass("sidebar-right-opened"),this},eventsSidebarRight:function(){var _self=this,open=function(){if(_self.sidebars.right.isOpened)return close();_self.sidebars.right.isOpened=!0,$html.addClass("sidebar-right-opened"),$window.trigger("sidebar-right-toggle",{added:!0,removed:!1}),$html.on("click.close-right-sidebar",function(e){e.stopPropagation(),close(e)})},close=function(e){if(e&&e.target&&($(e.target).closest(".sidebar-right").get(0)||!$(e.target).closest("html").get(0)))return e.preventDefault(),!1;$html.removeClass("sidebar-right-opened"),$html.off("click.close-right-sidebar"),$window.trigger("sidebar-right-toggle",{added:!1,removed:!0}),_self.sidebars.right.isOpened=!1},bind=function(){$('[data-open="sidebar-right"]').on("click",function(e){var $el=$(this);e.stopPropagation(),$el.is("a")&&e.preventDefault(),open()})};return this.sidebars.right.$el.find(".mobile-close").on("click",function(e){e.preventDefault(),$html.trigger("click.close-right-sidebar")}),bind(),this},buildContentMenu:function(){return!!$html.hasClass("fixed")&&(this.sidebars.menu.$nano=this.sidebars.menu.$el.find(".nano"),this.sidebars.menu.$nano.nanoScroller({alwaysVisible:!0,preventPageScrolling:!0}),this)},eventsContentMenu:function(){var _self=this,open=function(){if(_self.sidebars.menu.isOpened)return close();_self.sidebars.menu.isOpened=!0,$html.addClass("inner-menu-opened"),$window.trigger("inner-menu-toggle",{added:!0,removed:!1}),$html.on("click.close-inner-menu",function(e){close(e)})},close=function(e){if(e&&e.target&&!$(e.target).closest(".inner-menu-collapse").get(0)&&($(e.target).closest(".inner-menu").get(0)||!$(e.target).closest("html").get(0)))return!1;e.stopPropagation(),$html.removeClass("inner-menu-opened"),$html.off("click.close-inner-menu"),$window.trigger("inner-menu-toggle",{added:!1,removed:!0}),_self.sidebars.menu.isOpened=!1},bind;if(function(){$('[data-open="inner-menu"]').on("click",function(e){var $el=$(this);e.stopPropagation(),$el.is("a")&&e.preventDefault(),open()})}(),$html.hasClass("fixed")){var $nano=this.sidebars.menu.$nano,updateNanoScroll=function(){$.support.transition?($nano.nanoScroller(),$nano.one("bsTransitionEnd",updateNanoScroll).emulateTransitionEnd(150)):updateNanoScroll()};this.sidebars.menu.$el.on("click",function(){updateNanoScroll()})}return this},preventBodyScrollToggle:function(shouldPrevent,$el){setTimeout(function(){shouldPrevent?$body.data("scrollTop",$body.get(0).scrollTop).css({position:"fixed",top:-1*$body.get(0).scrollTop}):$body.css({position:"",top:""}).scrollTop($body.data("scrollTop"))},150)}};$.extend(theme,{Skeleton:Skeleton})}.apply(this,[window.theme,jQuery]),function(theme,$){"use strict";(theme=theme||{}).Skeleton.initialize()}.apply(this,[window.theme,jQuery]),window.theme={},function(theme,$){theme=theme||{};var instanceName="__mailbox",capitalizeString=function(str){return str.charAt(0).toUpperCase()+str.slice(1)},Mailbox=function($wrapper){return this.initialize($wrapper)};Mailbox.prototype={initialize:function($wrapper){return $wrapper.data("__mailbox")?this:(this.$wrapper=$wrapper,this.setVars().setData().build().events(),this)},setVars:function(){return this.view=capitalizeString(this.$wrapper.data("mailbox-view")||""),this},setData:function(){return this.$wrapper.data("__mailbox",this),this},build:function(){return"function"==typeof this["build"+this.view]&&this["build"+this.view].call(this),this},events:function(){return"function"==typeof this["events"+this.view]&&this["events"+this.view].call(this),this},buildFolder:function(){this.$wrapper.find(".mailbox-email-list .nano").nanoScroller({alwaysVisible:!0,preventPageScrolling:!0})},buildEmail:function(){this.buildComposer()},buildCompose:function(){this.buildComposer()},buildComposer:function(){this.$wrapper.find("#compose-field").summernote({height:250,toolbar:[["style",["style"]],["font",["bold","italic","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen"]],["help",["help"]]]})},eventsCompose:function(){var $composer,$contentBody,$html,$innerBody;$composer=$(".note-editable"),$contentBody=$(".content-body"),$html=$("html"),$innerBody=$(".inner-body");var adjustComposeSize=function(){var composerHeight,composerTop,contentBodyPaddingBottom,innerBodyHeight,viewportHeight,viewportWidth;contentBodyPaddingBottom=parseInt($contentBody.css("paddingBottom"),10)||0,viewportHeight=Math.max(document.documentElement.clientHeight,window.innerHeight||0),viewportWidth=Math.max(document.documentElement.clientWidth,window.innerWidth||0),$composer.css("height",""),viewportWidth<767||$html.hasClass("mobile-device")?composerHeight=viewportHeight-(composerTop=$composer.offset().top):(composerTop=$html.hasClass("fixed")?$composer.offset().top:$composer.position().top,composerHeight=$innerBody.outerHeight()-composerTop),composerHeight-=contentBodyPaddingBottom,$composer.css({height:composerHeight})},timer;$(window).on("resize orientationchange sidebar-left-toggle mailbox-recalc",function(){clearTimeout(timer),timer=setTimeout(function(){adjustComposeSize()},100)}),adjustComposeSize()}},$.extend(theme,{Mailbox:Mailbox}),$.fn.themeMailbox=function(opts){return this.each(function(){var $this=$(this);return $this.data("__mailbox")?$this.data("__mailbox"):new Mailbox($this)})}}.apply(this,[window.theme,jQuery]),function($){"use strict";var LockScreen={initialize:function(){this.$body=$("body"),this.build().events()},build:function(){var lockHTML,userinfo;return userinfo=this.getUserInfo(),this.lockHTML=this.buildTemplate(userinfo),this.$lock=this.$body.children("#LockScreenInline"),this.$userPicture=this.$lock.find("#LockUserPicture"),this.$userName=this.$lock.find("#LockUserName"),this.$userEmail=this.$lock.find("#LockUserEmail"),this},events:function(){var _self=this;return this.$body.find('[data-lock-screen="true"]').on("click",function(e){e.preventDefault(),_self.show()}),this},formEvents:function($form){var _self=this;$form.on("submit",function(e){e.preventDefault(),_self.hide()})},show:function(){var _self=this,userinfo=this.getUserInfo();this.$userPicture.attr("src",userinfo.picture),this.$userName.text(userinfo.username),this.$userEmail.text(userinfo.email),this.$body.addClass("show-lock-screen"),$.magnificPopup.open({items:{src:this.lockHTML,type:"inline"},modal:!0,mainClass:"mfp-lock-screen",callbacks:{change:function(){_self.formEvents(this.content.find("form"))}}})},hide:function(){$.magnificPopup.close()},getUserInfo:function(){var $info,picture,name,email;return{picture:picture=($info=$("#userbox")).find(".profile-picture img").attr("data-lock-picture"),username:name=$info.find(".profile-info").attr("data-lock-name"),email:email=$info.find(".profile-info").attr("data-lock-email")}},buildTemplate:function(userinfo){return['<section id="LockScreenInline" class="body-sign body-locked body-locked-inline">','<div class="center-sign">','<div class="panel panel-sign">','<div class="panel-body">',"<form>",'<div class="current-user text-center">','<img id="LockUserPicture" src="{{picture}}" alt="John Doe" class="img-circle user-image" />','<h2 id="LockUserName" class="user-name text-dark m-none">{{username}}</h2>','<p  id="LockUserEmail" class="user-email m-none">{{email}}</p>',"</div>",'<div class="form-group mb-lg">','<div class="input-group input-group-icon">','<input id="pwd" name="pwd" type="password" class="form-control input-lg" placeholder="Password" />','<span class="input-group-addon">','<span class="icon icon-lg">','<i class="fa fa-lock"></i>',"</span>","</span>","</div>","</div>",'<div class="row">','<div class="col-xs-6">','<p class="mt-xs mb-none">','<a href="#">Not John Doe?</a>',"</p>","</div>",'<div class="col-xs-6 text-right">','<button type="submit" class="btn btn-primary">Unlock</button>',"</div>","</div>","</form>","</div>","</div>","</div>","</section>"].join("").replace(/\{\{picture\}\}/,userinfo.picture).replace(/\{\{username\}\}/,userinfo.username).replace(/\{\{email\}\}/,userinfo.email)}};this.LockScreen=LockScreen,$(function(){LockScreen.initialize()})}.apply(this,[jQuery]),function($){$(function(){$(".panel").on("panel:toggle",function(){var $this,direction;$this=$(this),direction=$this.hasClass("panel-collapsed")?"Down":"Up",$this.find(".panel-body, .panel-footer")["slide"+direction](200,function(){$this[("Up"===direction?"add":"remove")+"Class"]("panel-collapsed")})}).on("panel:dismiss",function(){var $this=$(this);($this.parent("div").attr("class")||"").match(/col-(xs|sm|md|lg)/g)&&0===$this.siblings().length?($row=$this.closest(".row"),$this.parent("div").remove(),0===$row.children().length&&$row.remove()):$this.remove()}).on("click","[data-panel-toggle]",function(e){e.preventDefault(),$(this).closest(".panel").trigger("panel:toggle")}).on("click","[data-panel-dismiss]",function(e){e.preventDefault(),$(this).closest(".panel").trigger("panel:dismiss")}).on("click",".panel-actions a.fa-caret-up",function(e){e.preventDefault();var $this=$(this);$this.removeClass("fa-caret-up").addClass("fa-caret-down"),$this.closest(".panel").trigger("panel:toggle")}).on("click",".panel-actions a.fa-caret-down",function(e){e.preventDefault();var $this=$(this);$this.removeClass("fa-caret-down").addClass("fa-caret-up"),$this.closest(".panel").trigger("panel:toggle")}).on("click",".panel-actions a.fa-times",function(e){var $this;e.preventDefault(),$(this).closest(".panel").trigger("panel:dismiss")})})}(jQuery),function($){"use strict";var $window=$(window),toggleClass=function($el){return!$el.data("toggleClassBinded")&&($target=$($el.attr("data-target")),className=$el.attr("data-toggle-class"),eventName=$el.attr("data-fire-event"),$el.on("click.toggleClass",function(e){e.preventDefault(),$target.toggleClass(className);var hasClass=$target.hasClass(className);eventName&&$window.trigger(eventName,{added:hasClass,removed:!hasClass})}),$el.data("toggleClassBinded",!0),!0);var $target,className,eventName};$(function(){$("[data-toggle-class][data-target]").each(function(){toggleClass($(this))})})}.apply(this,[jQuery]),function($){"use strict";$.fn.formToObject=function(){var arrayData,objectData;return arrayData=this.serializeArray(),objectData={},$.each(arrayData,function(){var value;value=null!=this.value?this.value:"",null!=objectData[this.name]?(objectData[this.name].push||(objectData[this.name]=[objectData[this.name]]),objectData[this.name].push(value)):objectData[this.name]=value}),objectData}}(jQuery),function(theme,$){"use strict";theme=theme||{};var loadingOverlayTemplate=['<div class="loading-overlay">','<div class="loader"></div>',"</div>"].join(""),LoadingOverlay=function($wrapper,options){return this.initialize($wrapper,options)};LoadingOverlay.prototype={options:{css:{}},initialize:function($wrapper,options){this.$wrapper=$wrapper,this.setVars().setOptions(options).build().events(),this.$wrapper.data("loadingOverlay",this)},setVars:function(){return this.$overlay=this.$wrapper.find(".loading-overlay"),this},setOptions:function(options){return this.$overlay.get(0)||this.matchProperties(),this.options=$.extend(!0,{},this.options,options),this.loaderClass=this.getLoaderClass(this.options.css.backgroundColor),this},build:function(){return this.$overlay.closest(document.documentElement).get(0)||(this.$cachedOverlay?this.$overlay=this.$cachedOverlay.clone():(this.$overlay=$(loadingOverlayTemplate).clone(),this.options.css&&(this.$overlay.css(this.options.css),this.$overlay.find(".loader").addClass(this.loaderClass))),this.$wrapper.append(this.$overlay)),this.$cachedOverlay||(this.$cachedOverlay=this.$overlay.clone()),this},events:function(){var _self=this;return this.options.startShowing&&_self.show(),(this.$wrapper.is("body")||this.options.hideOnWindowLoad)&&$(window).on("load error",function(){_self.hide()}),this.options.listenOn&&$(this.options.listenOn).on("loading-overlay:show beforeSend.ic",function(e){e.stopPropagation(),_self.show()}).on("loading-overlay:hide complete.ic",function(e){e.stopPropagation(),_self.hide()}),this.$wrapper.on("loading-overlay:show beforeSend.ic",function(e){e.stopPropagation(),_self.show()}).on("loading-overlay:hide complete.ic",function(e){e.stopPropagation(),_self.hide()}),this},show:function(){this.build(),this.position=this.$wrapper.css("position").toLowerCase(),"relative"==this.position&&"absolute"==this.position&&"fixed"==this.position||this.$wrapper.css({position:"relative"}),this.$wrapper.addClass("loading-overlay-showing")},hide:function(){var _self=this;this.$wrapper.removeClass("loading-overlay-showing"),setTimeout(function(){"relative"==this.position&&"absolute"==this.position&&"fixed"==this.position||_self.$wrapper.css({position:""})},500)},matchProperties:function(){var i,l,properties;for(l=(properties=["backgroundColor","borderRadius"]).length,i=0;i<l;i++){var obj={};obj[properties[i]]=this.$wrapper.css(properties[i]),$.extend(this.options.css,obj)}},getLoaderClass:function(backgroundColor){return backgroundColor&&"transparent"!==backgroundColor&&"inherit"!==backgroundColor?(hexColor=function(color){var hex,rgb;return color.indexOf("#")>-1?hex=color.replace("#",""):(rgb=color.match(/\d+/g),hex=("0"+parseInt(rgb[0],10).toString(16)).slice(-2)+("0"+parseInt(rgb[1],10).toString(16)).slice(-2)+("0"+parseInt(rgb[2],10).toString(16)).slice(-2)),3===hex.length&&(hex+=hex),hex}(backgroundColor),(yiq=(299*(r=parseInt(hexColor.substr(0,2),16))+587*(g=parseInt(hexColor.substr(2,2),16))+114*(b=parseInt(hexColor.substr(4,2),16)))/1e3)>=128?"black":"white"):"black";var hexColor,r,g,b,yiq,colorToHex}},$.extend(theme,{LoadingOverlay:LoadingOverlay}),$.fn.loadingOverlay=function(opts){return this.each(function(){var $this=$(this),loadingOverlay=$this.data("loadingOverlay");if(loadingOverlay)return loadingOverlay;var options=opts||$this.data("loading-overlay-options")||{};return new LoadingOverlay($this,options)})},$(function(){$("[data-loading-overlay]").loadingOverlay()})}.apply(this,[window.theme,jQuery]),function(theme,$){theme=theme||{},$.extend(theme,{PluginScrollToTop:{defaults:{wrapper:$("body"),offset:150,buttonClass:"scroll-to-top",iconClass:"fa fa-chevron-up",delay:500,visibleMobile:!1,label:!1},initialize:function(opts){return initialized=!0,this.setOptions(opts).build().events(),this},setOptions:function(opts){return this.options=$.extend(!0,{},this.defaults,opts),this},build:function(){var self=this,$el;return $el=$("<a />").addClass(this.options.buttonClass).attr({href:"#"}).append($("<i />").addClass(this.options.iconClass)),this.options.visibleMobile||$el.addClass("hidden-mobile"),this.options.label&&$el.append($("<span />").html(this.options.label)),this.options.wrapper.append($el),this.$el=$el,this},events:function(){var self=this,_isScrolling=!1;return self.$el.on("click",function(e){return e.preventDefault(),$("body, html").animate({scrollTop:0},self.options.delay),!1}),$(window).scroll(function(){_isScrolling||(_isScrolling=!0,$(window).scrollTop()>self.options.offset?(self.$el.stop(!0,!0).addClass("visible"),_isScrolling=!1):(self.$el.stop(!0,!0).removeClass("visible"),_isScrolling=!1))}),this}}})}.apply(this,[window.theme,jQuery]),function(theme,$){theme=theme||{};var instanceName="__codemirror",PluginCodeMirror=function($el,opts){return this.initialize($el,opts)};PluginCodeMirror.defaults={lineNumbers:!0,styleActiveLine:!0,matchBrackets:!0,theme:"monokai"},PluginCodeMirror.prototype={initialize:function($el,opts){return $el.data(instanceName)?this:(this.$el=$el,this.setData().setOptions(opts).build(),this)},setData:function(){return this.$el.data(instanceName,this),this},setOptions:function(opts){return this.options=$.extend(!0,{},PluginCodeMirror.defaults,opts),this},build:function(){return CodeMirror.fromTextArea(this.$el.get(0),this.options),this}},$.extend(theme,{PluginCodeMirror:PluginCodeMirror}),$.fn.themePluginCodeMirror=function(opts){return this.each(function(){var $this=$(this);return $this.data(instanceName)?$this.data(instanceName):new PluginCodeMirror($this,opts)})}}.apply(this,[window.theme,jQuery]),function(theme,$){theme=theme||{};var instanceName="__colorpicker",PluginColorPicker=function($el,opts){return this.initialize($el,opts)};PluginColorPicker.defaults={},PluginColorPicker.prototype={initialize:function($el,opts){return $el.data(instanceName)?this:(this.$el=$el,this.setData().setOptions(opts).build(),this)},setData:function(){return this.$el.data(instanceName,this),this},setOptions:function(opts){return this.options=$.extend(!0,{},PluginColorPicker.defaults,opts),this},build:function(){return this.$el.colorpicker(this.options),this}},$.extend(theme,{PluginColorPicker:PluginColorPicker}),$.fn.themePluginColorPicker=function(opts){return this.each(function(){var $this=$(this);return $this.data(instanceName)?$this.data(instanceName):new PluginColorPicker($this,opts)})}}.apply(this,[window.theme,jQuery]),function(theme,$){theme=theme||{};var instanceName="__datepicker",PluginDatePicker=function($el,opts){return this.initialize($el,opts)};PluginDatePicker.defaults={},PluginDatePicker.prototype={initialize:function($el,opts){return $el.data(instanceName)?this:(this.$el=$el,this.setVars().setData().setOptions(opts).build(),this)},setVars:function(){return this.skin=this.$el.data("plugin-skin"),this},setData:function(){return this.$el.data(instanceName,this),this},setOptions:function(opts){return this.options=$.extend(!0,{},PluginDatePicker.defaults,opts),this},build:function(){return this.$el.datepicker({dateFormat:"yy-mm-dd"}),this.skin&&this.$el.data("datepicker").picker.addClass("datepicker-"+this.skin),this}},$.extend(theme,{PluginDatePicker:PluginDatePicker}),$.fn.themePluginDatePicker=function(opts){return this.each(function(){var $this=$(this);return $this.data(instanceName)?$this.data(instanceName):new PluginDatePicker($this,opts)})}}.apply(this,[window.theme,jQuery]),function(theme,$){theme=theme||{};var instanceName="__IOS7Switch",PluginIOS7Switch=function($el){return this.initialize($el)};PluginIOS7Switch.prototype={initialize:function($el){return $el.data(instanceName)?this:(this.$el=$el,this.setData().build(),this)},setData:function(){return this.$el.data(instanceName,this),this},build:function(){var switcher=new Switch(this.$el.get(0));return $(switcher.el).on("click",function(e){e.preventDefault(),switcher.toggle()}),this}},$.extend(theme,{PluginIOS7Switch:PluginIOS7Switch}),$.fn.themePluginIOS7Switch=function(opts){return this.each(function(){var $this=$(this);return $this.data(instanceName)?$this.data(instanceName):new PluginIOS7Switch($this)})}}.apply(this,[window.theme,jQuery]),function(theme,$){theme=theme||{};var instanceName="__markdownEditor",PluginMarkdownEditor=function($el,opts){return this.initialize($el,opts)};PluginMarkdownEditor.defaults={iconlibrary:"fa"},PluginMarkdownEditor.prototype={initialize:function($el,opts){return $el.data(instanceName)?this:(this.$el=$el,this.setData().setOptions(opts).build(),this)},setData:function(){return this.$el.data(instanceName,this),this},setOptions:function(opts){return this.options=$.extend(!0,{},PluginMarkdownEditor.defaults,opts),this},build:function(){return this.$el.markdown(this.options),this}},$.extend(theme,{PluginMarkdownEditor:PluginMarkdownEditor}),$.fn.themePluginMarkdownEditor=function(opts){return this.each(function(){var $this=$(this);return $this.data(instanceName)?$this.data(instanceName):new PluginMarkdownEditor($this,opts)})}}.apply(this,[window.theme,jQuery]),function(theme,$){theme=theme||{};var instanceName="__maskedInput",PluginMaskedInput=function($el,opts){return this.initialize($el,opts)};PluginMaskedInput.defaults={},PluginMaskedInput.prototype={initialize:function($el,opts){return $el.data(instanceName)?this:(this.$el=$el,this.setData().setOptions(opts).build(),this)},setData:function(){return this.$el.data(instanceName,this),this},setOptions:function(opts){return this.options=$.extend(!0,{},PluginMaskedInput.defaults,opts),this},build:function(){return this.$el.mask(this.$el.data("input-mask"),this.options),this}},$.extend(theme,{PluginMaskedInput:PluginMaskedInput}),$.fn.themePluginMaskedInput=function(opts){return this.each(function(){var $this=$(this);return $this.data(instanceName)?$this.data(instanceName):new PluginMaskedInput($this,opts)})}}.apply(this,[window.theme,jQuery]),function(theme,$){theme=theme||{};var instanceName="__maxlength",PluginMaxLength=function($el,opts){return this.initialize($el,opts)};PluginMaxLength.defaults={alwaysShow:!0,placement:"bottom-left",warningClass:"label label-success bottom-left",limitReachedClass:"label label-danger bottom-left"},PluginMaxLength.prototype={initialize:function($el,opts){return $el.data(instanceName)?this:(this.$el=$el,this.setData().setOptions(opts).build(),this)},setData:function(){return this.$el.data(instanceName,this),this},setOptions:function(opts){return this.options=$.extend(!0,{},PluginMaxLength.defaults,opts),this},build:function(){return this.$el.maxlength(this.options),this}},$.extend(theme,{PluginMaxLength:PluginMaxLength}),$.fn.themePluginMaxLength=function(opts){return this.each(function(){var $this=$(this);return $this.data(instanceName)?$this.data(instanceName):new PluginMaxLength($this,opts)})}}.apply(this,[window.theme,jQuery]),function(theme,$){theme=theme||{};var instanceName="__multiselect",PluginMultiSelect=function($el,opts){return this.initialize($el,opts)};PluginMultiSelect.defaults={templates:{filter:'<div class="input-group"><span class="input-group-addon"><i class="fa fa-search"></i></span><input class="form-control multiselect-search" type="text"></div>'}},PluginMultiSelect.prototype={initialize:function($el,opts){return $el.data(instanceName)?this:(this.$el=$el,this.setData().setOptions(opts).build(),this)},setData:function(){return this.$el.data(instanceName,this),this},setOptions:function(opts){return this.options=$.extend(!0,{},PluginMultiSelect.defaults,opts),this},build:function(){return this.$el.multiselect(this.options),this}},$.extend(theme,{PluginMultiSelect:PluginMultiSelect}),$.fn.themePluginMultiSelect=function(opts){return this.each(function(){var $this=$(this);return $this.data(instanceName)?$this.data(instanceName):new PluginMultiSelect($this,opts)})}}.apply(this,[window.theme,jQuery]),function(theme,$){theme=theme||{};var instanceName="__select2",PluginSelect2=function($el,opts){return this.initialize($el,opts)};PluginSelect2.defaults={},PluginSelect2.prototype={initialize:function($el,opts){return $el.data("__select2")?this:(this.$el=$el,this.setData().setOptions(opts).build(),this)},setData:function(){return this.$el.data("__select2",this),this},setOptions:function(opts){return this.options=$.extend(!0,{},PluginSelect2.defaults,opts),this},build:function(){return this.$el.select2(this.options),this}},$.extend(theme,{PluginSelect2:PluginSelect2}),$.fn.themePluginSelect2=function(opts){return this.each(function(){var $this=$(this);return $this.data("__select2")?$this.data("__select2"):new PluginSelect2($this,opts)})}}.apply(this,[window.theme,jQuery]),function(theme,$){theme=theme||{};var instanceName="__spinner",PluginSpinner=function($el,opts){return this.initialize($el,opts)};PluginSpinner.defaults={},PluginSpinner.prototype={initialize:function($el,opts){return $el.data("__spinner")?this:(this.$el=$el,this.setData().setOptions(opts).build(),this)},setData:function(){return this.$el.data("__spinner",this),this},setOptions:function(opts){return this.options=$.extend(!0,{},PluginSpinner.defaults,opts),this},build:function(){return this.$el.spinner(this.options),this}},$.extend(theme,{PluginSpinner:PluginSpinner}),$.fn.themePluginSpinner=function(opts){return this.each(function(){var $this=$(this);return $this.data("__spinner")?$this.data("__spinner"):new PluginSpinner($this,opts)})}}.apply(this,[window.theme,jQuery]),function(theme,$){theme=theme||{};var instanceName="__summernote",PluginSummerNote=function($el,opts){return this.initialize($el,opts)};PluginSummerNote.defaults={onfocus:function(){$(this).closest(".note-editor").addClass("active")},onblur:function(){$(this).closest(".note-editor").removeClass("active")}},PluginSummerNote.prototype={initialize:function($el,opts){return $el.data(instanceName)?this:(this.$el=$el,this.setData().setOptions(opts).build(),this)},setData:function(){return this.$el.data(instanceName,this),this},setOptions:function(opts){return this.options=$.extend(!0,{},PluginSummerNote.defaults,opts),this},build:function(){return this.$el.summernote(this.options),this}},$.extend(theme,{PluginSummerNote:PluginSummerNote}),$.fn.themePluginSummerNote=function(opts){return this.each(function(){var $this=$(this);return $this.data(instanceName)?$this.data(instanceName):new PluginSummerNote($this,opts)})}}.apply(this,[window.theme,jQuery]),function(theme,$){theme=theme||{};var initialized=!1,instanceName="__textareaAutosize",PluginTextAreaAutoSize=function($el,opts){return this.initialize($el,opts)};PluginTextAreaAutoSize.defaults={},PluginTextAreaAutoSize.prototype={initialize:function($el,opts){return this.$el=$el,this.setData().setOptions(opts).build(),this},setData:function(){return this.$el.data(instanceName,this),this},setOptions:function(opts){return this.options=$.extend(!0,{},PluginTextAreaAutoSize.defaults,opts),this},build:function(){return this.$el.autosize(this.options),this}},$.extend(theme,{PluginTextAreaAutoSize:PluginTextAreaAutoSize}),$.fn.themePluginTextAreaAutoSize=function(opts){return this.each(function(){var $this=$(this);return $this.data(instanceName)?$this.data(instanceName):new PluginTextAreaAutoSize($this,opts)})}}.apply(this,[window.theme,jQuery]),function(theme,$){theme=theme||{};var instanceName="__timepicker",PluginTimePicker=function($el,opts){return this.initialize($el,opts)};PluginTimePicker.defaults={disableMousewheel:!0},PluginTimePicker.prototype={initialize:function($el,opts){return $el.data(instanceName)?this:(this.$el=$el,this.setData().setOptions(opts).build(),this)},setData:function(){return this.$el.data(instanceName,this),this},setOptions:function(opts){return this.options=$.extend(!0,{},PluginTimePicker.defaults,opts),this},build:function(){return this.$el.timepicker(this.options),this}},$.extend(theme,{PluginTimePicker:PluginTimePicker}),$.fn.themePluginTimePicker=function(opts){return this.each(function(){var $this=$(this);return $this.data(instanceName)?$this.data(instanceName):new PluginTimePicker($this,opts)})}}.apply(this,[window.theme,jQuery]),function(theme,$){"use strict";theme=theme||{};var timeouts=0,instanceName="__gmapbuilder",roundNumber=function(number,precision){precision<0?precision=0:precision>10&&(precision=10);var a=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10];return Math.round(number*a[precision])/a[precision]},GMapBuilder=function($wrapper,opts){return this.initialize($wrapper,opts)};GMapBuilder.defaults={mapSelector:"#gmap",markers:{modal:"#MarkerModal",list:"#MarkersList",removeAll:"#MarkerRemoveAll"},previewModal:"#ModalPreview",getCodeModal:"#ModalGetCode",mapOptions:{center:{lat:-38.908133,lng:-13.692628},panControl:!0,zoom:3}},GMapBuilder.prototype={markers:[],initialize:function($wrapper,opts){return this.$wrapper=$wrapper,this.setData().setOptions(opts).setVars().build().events(),this},setData:function(){return this.$wrapper.data(instanceName,this),this},setOptions:function(opts){return this.options=$.extend(!0,{},GMapBuilder.defaults,opts),this},setVars:function(){return this.$mapContainer=this.$wrapper.find(this.options.mapSelector),this.$previewModal=$(this.options.previewModal),this.$getCodeModal=$(this.options.getCodeModal),this.marker={},this.marker.$modal=$(this.options.markers.modal),this.marker.$form=this.marker.$modal.find("form"),this.marker.$list=$(this.options.markers.list),this.marker.$removeAll=$(this.options.markers.removeAll),this},build:function(){var _self=this;if(window.SnazzyThemes){var themeOpts=[];$.each(window.SnazzyThemes,function(i,theme){themeOpts.push($('<option value="'+theme.id+'">'+theme.name+"</option>").data("json",theme.json))}),this.$wrapper.find('[data-builder-field="maptheme"]').append(themeOpts)}return this.geocoder=new google.maps.Geocoder,google.maps.event.addDomListener(window,"load",function(){_self.options.mapOptions.center=new google.maps.LatLng(_self.options.mapOptions.center.lat,_self.options.mapOptions.center.lng),_self.map=new google.maps.Map(_self.$mapContainer.get(0),_self.options.mapOptions),_self.updateControl("latlng").updateControl("zoomlevel"),_self.mapEvents()}),this},events:function(){var _self=this;return this.$wrapper.find("[data-builder-field]").each(function(){var $this=$(this),field,value;field=$this.data("builder-field"),$this.on("change",function(){value=$this.is("select")?$this.children("option:selected").val().toLowerCase():$this.val().toLowerCase(),_self.updateMap(field,value)})}),this.marker.$form.on("submit",function(e){e.preventDefault(),_self.saveMarker(_self.marker.$form.formToObject())}),this.marker.$removeAll.on("click",function(e){e.preventDefault(),_self.removeAllMarkers()}),this.$previewModal.on("shown.bs.modal",function(){_self.preview()}),this.$previewModal.on("hidden.bs.modal",function(){_self.$previewModal.find("iframe").get(0).contentWindow.document.body.innerHTML=""}),this.$getCodeModal.on("shown.bs.modal",function(){_self.getCode()}),this},mapEvents:function(){var _self=this;return google.maps.event.addDomListener(_self.map,"resize",function(){google.maps.event.trigger(_self.map,"resize")}),google.maps.event.addListener(this.map,"center_changed",function(){var coords=_self.map.getCenter();_self.updateControl("latlng",{lat:roundNumber(coords.lat(),6),lng:roundNumber(coords.lng(),6)})}),google.maps.event.addListener(this.map,"zoom_changed",function(){_self.updateControl("zoomlevel",_self.map.getZoom())}),google.maps.event.addListener(this.map,"maptypeid_changed",function(){_self.updateControl("maptype",_self.map.getMapTypeId())}),this},updateMap:function(prop,value){var updateFn;return updateFn=this.updateMapProperty[prop],$.isFunction(updateFn)?updateFn.apply(this,[value]):console.info("missing update function for",prop),this},updateMapProperty:{latlng:function(){var lat,lng;return lat=this.$wrapper.find('[data-builder-field][name="latitude"]').val(),lng=this.$wrapper.find('[data-builder-field][name="longitude"]').val(),lat.length>0&&lng.length>0&&this.map.setCenter(new google.maps.LatLng(lat,lng)),this},zoomlevel:function(value){var value=arguments[0];return this.map.setZoom(parseInt(value,10)),this},maptypecontrol:function(value){var options;return options={},"false"===value?options.mapTypeControl=!1:options={mapTypeControl:!0,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle[value.toUpperCase()]}},this.map.setOptions(options),this},zoomcontrol:function(value){var options;return options={},"false"===value?options.zoomControl=!1:options={zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle[value.toUpperCase()]}},this.map.setOptions(options),this},scalecontrol:function(value){var options;return(options={}).scaleControl="false"!==value,this.map.setOptions(options),this},streetviewcontrol:function(value){var options;return(options={}).streetViewControl="false"!==value,this.map.setOptions(options),this},pancontrol:function(value){var options;return(options={}).panControl="false"!==value,this.map.setOptions(options),this},overviewcontrol:function(value){var options;return options={},"false"===value?options.overviewMapControl=!1:options={overviewMapControl:!0,overviewMapControlOptions:{opened:"opened"===value}},this.map.setOptions(options),this},draggablecontrol:function(value){var options;return(options={}).draggable="false"!==value,this.map.setOptions(options),this},clicktozoomcontrol:function(value){var options;return(options={}).disableDoubleClickZoom="false"===value,this.map.setOptions(options),this},scrollwheelcontrol:function(value){var options;return(options={}).scrollwheel="false"!==value,this.map.setOptions(options),this},maptype:function(value){var options,mapStyles,mapType;mapStyles=this.$wrapper.find('[data-builder-field="maptheme"]').children("option").filter(":selected").data("json"),mapType=google.maps.MapTypeId[value.toUpperCase()],options={mapTypeId:mapType},$.inArray(google.maps.MapTypeId[value.toUpperCase()],["terrain","roadmap"])>-1&&mapStyles?options.styles=eval(mapStyles):(options.styles=!1,this.updateControl("maptheme")),this.map.setOptions(options)},maptheme:function(value){var json,mapType,options;mapType=google.maps.MapTypeId["terrain"===this.map.getMapTypeId()?"TERRAIN":"ROADMAP"],options={},json=this.$wrapper.find('[data-builder-field="maptheme"]').children("option").filter(":selected").data("json"),options=json?{mapTypeId:mapType,styles:eval(json)}:{mapTypeId:mapType,styles:!1},this.map.setOptions(options)}},updateControl:function(prop){var updateFn;return updateFn=this.updateControlValue[prop],$.isFunction(updateFn)?updateFn.apply(this):console.info("missing update function for",prop),this},updateControlValue:{latlng:function(){var center=this.map.getCenter();this.$wrapper.find('[data-builder-field][name="latitude"]').val(roundNumber(center.lat(),6)),this.$wrapper.find('[data-builder-field][name="longitude"]').val(roundNumber(center.lng(),6))},zoomlevel:function(){var $control,level;level=this.map.getZoom(),($control=this.$wrapper.find('[data-builder-field="zoomlevel"]')).children('option[value="'+level+'"]').prop("selected",!0),$control.hasClass("select2-offscreen")&&$control.select2("val",level)},maptype:function(){var $control,mapType;mapType=this.map.getMapTypeId(),($control=this.$wrapper.find('[data-builder-field="maptype"]')).children('option[value="'+mapType+'"]').prop("selected",!0),$control.hasClass("select2-offscreen")&&$control.select2("val",mapType)},maptheme:function(){var $control;($control=this.$wrapper.find('[data-builder-field="maptheme"]')).children('option[value="false"]').prop("selected",!0),$control.hasClass("select2-offscreen")&&$control.select2("val","false")}},editMarker:function(marker){this.currentMarker=marker,this.marker.$form.find("#MarkerLocation").val(marker.location),this.marker.$form.find("#MarkerTitle").val(marker.title),this.marker.$form.find("#MarkerDescription").val(marker.description),this.marker.$modal.modal("show")},removeMarker:function(marker){var i;for(marker._instance.setMap(null),marker._$html.remove(),i=0;i<this.markers.length;i++)if(marker===this.markers[i]){this.markers.splice(i,1);break}0===this.markers.length&&this.marker.$list.addClass("hidden")},saveMarker:function(marker){this._geocode(marker)},removeAllMarkers:function(){var i=0,l,marker;for(l=this.markers.length;i<l;i++)(marker=this.markers[i])._instance.setMap(null),marker._$html.remove();this.markers=[],this.marker.$list.addClass("hidden")},_geocode:function(marker){var _self=this,status;this.geocoder.geocode({address:marker.location},function(response,status){_self._onGeocodeResult(marker,response,status)})},_onGeocodeResult:function(marker,response,status){var result;if(response&&status===google.maps.GeocoderStatus.OK){timeouts=0,this.currentMarker&&(this.removeMarker(this.currentMarker),this.currentMarker=null),result=response[0],marker.lat=Math.round(1e6*result.geometry.location.lat())/1e6,marker.lng=Math.round(1e6*result.geometry.location.lng())/1e6;var opts={position:new google.maps.LatLng(marker.lat,marker.lng),map:this.map};marker.title.length>0&&(opts.title=marker.title),marker.description.length>0&&(opts.desc=marker.description),marker.position=opts.position,marker._instance=new google.maps.Marker(opts),(marker.title||marker.description)&&this._bindMarkerClick(marker),this.markers.push(marker),this._appendMarkerToList(marker),this.marker.$form.get(0).reset(),this.marker.$modal.modal("hide")}else status==google.maps.GeocoderStatus.ZERO_RESULTS||timeouts++},_appendMarkerToList:function(marker){var _self=this,html;html=(html=["<li>","<p>{location}</p>",'<a href="#" class="location-action location-center"><i class="fa fa-map-marker"></i></a>','<a href="#" class="location-action location-edit"><i class="fa fa-edit"></i></a>','<a href="#" class="location-action location-remove text-danger"><i class="fa fa-times"></i></a>',"</li>"].join("")).replace(/\{location\}/,marker.title?marker.title:marker.location),marker._$html=$(html),marker._$html.find(".location-center").on("click",function(e){_self.map.setCenter(marker.position)}),marker._$html.find(".location-remove").on("click",function(e){e.preventDefault(),_self.removeMarker(marker)}),marker._$html.find(".location-edit").on("click",function(e){e.preventDefault(),_self.editMarker(marker)}),this.marker.$list.append(marker._$html).removeClass("hidden")},_bindMarkerClick:function(marker){var _self=this,html;html=(html=(html=['<div style="background-color: #FFF; color: #000; padding: 5px; width: 150px;">',"{title}","{description}","</div>"].join("")).replace(/\{title\}/,marker.title?"<h4>"+marker.title+"</h4>":"")).replace(/\{description\}/,marker.description?"<p>"+marker.description+"</p>":""),marker._infoWindow=new google.maps.InfoWindow({content:html}),google.maps.event.addListener(marker._instance,"click",function(){marker._infoWindow.isOpened?(marker._infoWindow.close(),marker._infoWindow.isOpened=!1):(marker._infoWindow.open(_self.map,this),marker._infoWindow.isOpened=!0)})},preview:function(){var customScript,googleScript,iframe,previewHtml;previewHtml=["<style>","html, body { margin: 0; padding: 0; }","</style>",'<div id="'+this.$wrapper.find('[data-builder-field="mapid"]').val()+'" style="width: 100%; height: 100%;"></div>'],(iframe=this.$previewModal.find("iframe").get(0).contentWindow.document).body.innerHTML=previewHtml.join(""),(customScript=iframe.createElement("script")).type="text/javascript",customScript.text="window.initialize = function() { "+this.generate()+" init(); }; ",iframe.body.appendChild(customScript),(googleScript=iframe.createElement("script")).type="text/javascript",googleScript.text='function loadScript() { var script = document.createElement("script"); script.type = "text/javascript"; script.src = "http://maps.googleapis.com/maps/api/js?key=&sensor=&callback=initialize"; document.body.appendChild(script); } loadScript()',iframe.body.appendChild(googleScript)},getCode:function(){this.$getCodeModal.find(".modal-body pre").html(this.generate().replace(/</g,"&lt;").replace(/>/g,"&gt;"))},generate:function(){var i,work,output=['    google.maps.event.addDomListener(window, "load", init);',"    var map;","    function init() {","        var mapOptions = {","            center: new google.maps.LatLng({lat}, {lng}),","            zoom: {zoom},","            zoomControl: {zoomControl},","            {zoomControlOptions}","            disableDoubleClickZoom: {disableDoubleClickZoom},","            mapTypeControl: {mapTypeControl},","            {mapTypeControlOptions}","            scaleControl: {scaleControl},","            scrollwheel: {scrollwheel},","            panControl: {panControl},","            streetViewControl: {streetViewControl},","            draggable : {draggable},","            overviewMapControl: {overviewMapControl},","            {overviewMapControlOptions}","            mapTypeId: google.maps.MapTypeId.{mapTypeId}{styles}","        };","",'        var mapElement = document.getElementById("{mapid}");',"        var map = new google.maps.Map(mapElement, mapOptions);","        {locations}","    }"];output=output.join("\r\n");var zoomControl="false"!==this.$wrapper.find('[data-builder-field="zoomcontrol"] option:selected').val(),mapTypeControl="false"!==this.$wrapper.find('[data-builder-field="maptypecontrol"] option:selected').val(),overviewMapControl=this.$wrapper.find('[data-builder-field="overviewcontrol"] option:selected').val().toLowerCase(),$themeControl=this.$wrapper.find('[data-builder-field="maptheme"] option:selected').filter(":selected");if(output=output.replace(/\{mapid\}/,this.$wrapper.find('[data-builder-field="mapid"]').val()).replace(/\{lat\}/,this.$wrapper.find('[data-builder-field][name="latitude"]').val()).replace(/\{lng\}/,this.$wrapper.find('[data-builder-field][name="longitude"]').val()).replace(/\{zoom\}/,this.$wrapper.find('[data-builder-field="zoomlevel"] option:selected').val()).replace(/\{zoomControl\}/,zoomControl).replace(/\{disableDoubleClickZoom\}/,"false"===this.$wrapper.find('[data-builder-field="clicktozoomcontrol"] option:selected').val()).replace(/\{mapTypeControl\}/,mapTypeControl).replace(/\{scaleControl\}/,"false"!==this.$wrapper.find('[data-builder-field="scalecontrol"] option:selected').val()).replace(/\{scrollwheel\}/,"false"!==this.$wrapper.find('[data-builder-field="scrollwheelcontrol"] option:selected').val()).replace(/\{panControl\}/,"false"!==this.$wrapper.find('[data-builder-field="pancontrol"] option:selected').val()).replace(/\{streetViewControl\}/,"false"!==this.$wrapper.find('[data-builder-field="streetviewcontrol"] option:selected').val()).replace(/\{draggable\}/,"false"!==this.$wrapper.find('[data-builder-field="draggablecontrol"] option:selected').val()).replace(/\{overviewMapControl\}/,"false"!==overviewMapControl).replace(/\{mapTypeId\}/,this.$wrapper.find('[data-builder-field="maptype"] option:selected').val().toUpperCase()),zoomControl?(work={zoomControlOptions:{style:this.$wrapper.find('[data-builder-field="maptypecontrol"] option:selected').val().toUpperCase()}},output=output.replace(/\{zoomControlOptions\}/,"zoomControlOptions: {\r\n                style: google.maps.ZoomControlStyle."+this.$wrapper.find('[data-builder-field="zoomcontrol"] option:selected').val().toUpperCase()+"\r\n            },")):output=output.replace(/\{zoomControlOptions\}/,""),mapTypeControl?(work={zoomControlOptions:{style:this.$wrapper.find('[data-builder-field="maptypecontrol"] option:selected').val().toUpperCase()}},output=output.replace(/\{mapTypeControlOptions\}/,"mapTypeControlOptions: {\r\n                style: google.maps.MapTypeControlStyle."+this.$wrapper.find('[data-builder-field="maptypecontrol"] option:selected').val().toUpperCase()+"\r\n            },")):output=output.replace(/\{mapTypeControlOptions\}/,""),output="false"!==overviewMapControl?output.replace(/\{overviewMapControlOptions\}/,"overviewMapControlOptions: {\r\n                opened: "+("opened"===overviewMapControl)+"\r\n            },"):output.replace(/\{overviewMapControlOptions\}/,""),output="false"!==$themeControl.val()?output.replace(/\{styles\}/,",\r\n            styles: "+$themeControl.data("json").replace(/\r\n/g,"")):output.replace(/\{styles\}/,""),this.markers.length>0){var work=["var locations = ["],m,object;for(i=0;i<this.markers.length;i++)object="",object+="            { lat: "+(m=this.markers[i]).lat+", lng: "+m.lng,m.title&&(object+=', title: "'+m.title+'"'),m.description&&(object+=', description: "'+m.description+'"'),object+=" }",i+1<this.markers.length&&(object+=","),work.push(object);work.push("        ];\r\n"),work.push("        var opts = {};"),work.push("        for (var i = 0; i < locations.length; i++) {"),work.push("            opts.position = new google.maps.LatLng( locations[ i ].lat, locations[ i ].lng );"),work.push("            opts.map = map;"),work.push("            if ( !!locations[ i ] .title ) { opts.title = locations[ i ].title; }"),work.push("            if ( !!locations[ i ] .description ) { opts.description = locations[ i ].description; }"),work.push("            marker = new google.maps.Marker( opts );"),work.push(""),work.push("            (function() {"),work.push("                var html = ["),work.push("                \t'<div style=\"background-color: #FFF; color: #000; padding: 5px; width: 150px;\">',"),work.push("                \t\t'{title}',"),work.push("                \t\t'{description}',"),work.push("                \t'</div>'"),work.push("                ].join('');"),work.push(""),work.push('                html = html.replace(/{title}/, !!opts.title ?  ("<h4>" + opts.title + "</h4>") : "" );'),work.push('                html = html.replace(/{description}/, !!opts.description ?  ("<p>" + opts.description + "</p>") : "" );'),work.push("                var infoWindow = new google.maps.InfoWindow({ content: html });"),work.push("                google.maps.event.addListener( marker, 'click', function() {"),work.push("                \tif ( infoWindow.isOpened ) {"),work.push("                \t\tinfoWindow.close();"),work.push("                \t\tinfoWindow.isOpened = false;"),work.push("                \t} else {"),work.push("                \t\tinfoWindow.open( map, this );"),work.push("                \t\tinfoWindow.isOpened = true;"),work.push("                \t}"),work.push("                });"),work.push("            })();"),work.push("        }"),output=output.replace(/\{locations\}/,work.join("\r\n"))}else output=output.replace(/\{locations\}/,"");return console.log(output),output}},$.extend(!0,theme,{Maps:{GMapBuilder:GMapBuilder}}),$.fn.themeGMapBuilder=function(opts){return this.map(function(){var $this=$(this),instance;return(instance=$this.data(instanceName))||new GMapBuilder($this,opts)})},$(function(){$("[data-theme-gmap-builder]").each(function(){var $this=$(this);window.builder=$this.themeGMapBuilder()})})}.apply(this,[window.theme,jQuery]),function(theme,$){theme=theme||{};var instanceName="__animate",PluginAnimate=function($el,opts){return this.initialize($el,opts)};PluginAnimate.defaults={accX:0,accY:-150,delay:1},PluginAnimate.prototype={initialize:function($el,opts){return $el.data("__animate")?this:(this.$el=$el,this.setData().setOptions(opts).build(),this)},setData:function(){return this.$el.data("__animate",this),this},setOptions:function(opts){return this.options=$.extend(!0,{},PluginAnimate.defaults,opts,{wrapper:this.$el}),this},build:function(){var self=this,$el=this.options.wrapper,delay=0;return $el.addClass("appear-animation"),!$("html").hasClass("no-csstransitions")&&$(window).width()>767?$el.appear(function(){(delay=$el.attr("data-appear-animation-delay")?$el.attr("data-appear-animation-delay"):self.options.delay)>1&&$el.css("animation-delay",delay+"ms"),$el.addClass($el.attr("data-appear-animation")),setTimeout(function(){$el.addClass("appear-animation-visible")},delay)},{accX:self.options.accX,accY:self.options.accY}):$el.addClass("appear-animation-visible"),this}},$.extend(theme,{PluginAnimate:PluginAnimate}),$.fn.themePluginAnimate=function(opts){return this.map(function(){var $this=$(this);return $this.data("__animate")?$this.data("__animate"):new PluginAnimate($this,opts)})}}.apply(this,[window.theme,jQuery]),function(theme,$){theme=theme||{};var initialized=!1,instanceName="__carousel",PluginCarousel=function($el,opts){return this.initialize($el,opts)};PluginCarousel.defaults={itemsDesktop:!1,itemsDesktopSmall:!1,itemsTablet:!1,itemsTabletSmall:!1,itemsMobile:!1},PluginCarousel.prototype={initialize:function($el,opts){return $el.data("__carousel")?this:(this.$el=$el,this.setData().setOptions(opts).build(),this)},setData:function(){return this.$el.data("__carousel",this),this},setOptions:function(opts){return this.options=$.extend(!0,{},PluginCarousel.defaults,opts,{wrapper:this.$el}),this},build:function(){return this.options.wrapper.owlCarousel(this.options).addClass("owl-carousel-init"),this}},$.extend(theme,{PluginCarousel:PluginCarousel}),$.fn.themePluginCarousel=function(opts){return this.map(function(){var $this=$(this);return $this.data("__carousel")?$this.data("__carousel"):new PluginCarousel($this,opts)})}}.apply(this,[window.theme,jQuery]),function(theme,$){theme=theme||{};var instanceName="__chartCircular",PluginChartCircular=function($el,opts){return this.initialize($el,opts)};PluginChartCircular.defaults={accX:0,accY:-150,delay:1,barColor:"#0088CC",trackColor:"#f2f2f2",scaleColor:!1,scaleLength:5,lineCap:"round",lineWidth:13,size:175,rotate:0,animate:{duration:2500,enabled:!0}},PluginChartCircular.prototype={initialize:function($el,opts){return $el.data(instanceName)?this:(this.$el=$el,this.setData().setOptions(opts).build(),this)},setData:function(){return this.$el.data(instanceName,this),this},setOptions:function(opts){return this.options=$.extend(!0,{},PluginChartCircular.defaults,opts,{wrapper:this.$el}),this},build:function(){var self=this,$el=this.options.wrapper,value=$el.attr("data-percent")?$el.attr("data-percent"):0,percentEl=$el.find(".percent"),shouldAnimate,data;return shouldAnimate=$.isFunction($.fn.appear)&&void 0!==$.browser&&!$.browser.mobile,data={accX:self.options.accX,accY:self.options.accY},$.extend(!0,self.options,{onStep:function(from,to,currentValue){percentEl.html(parseInt(currentValue))}}),$el.attr("data-percent",shouldAnimate?0:value),$el.easyPieChart(this.options),shouldAnimate?$el.appear(function(){setTimeout(function(){$el.data("easyPieChart").update(value),$el.attr("data-percent",value)},self.options.delay)},data):($el.data("easyPieChart").update(value),$el.attr("data-percent",value)),this}},$.extend(!0,theme,{Chart:{PluginChartCircular:PluginChartCircular}}),$.fn.themePluginChartCircular=function(opts){return this.map(function(){var $this=$(this);return $this.data(instanceName)?$this.data(instanceName):new PluginChartCircular($this,opts)})}}.apply(this,[window.theme,jQuery]),function(theme,$){theme=theme||{};var instanceName="__lightbox",PluginLightbox=function($el,opts){return this.initialize($el,opts)};PluginLightbox.defaults={tClose:"Close (Esc)",tLoading:"Loading...",gallery:{tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},image:{tError:'<a href="%url%">The image</a> could not be loaded.'},ajax:{tError:'<a href="%url%">The content</a> could not be loaded.'}},PluginLightbox.prototype={initialize:function($el,opts){return $el.data("__lightbox")?this:(this.$el=$el,this.setData().setOptions(opts).build(),this)},setData:function(){return this.$el.data("__lightbox",this),this},setOptions:function(opts){return this.options=$.extend(!0,{},PluginLightbox.defaults,opts,{wrapper:this.$el}),this},build:function(){return this.options.wrapper.magnificPopup(this.options),this}},$.extend(theme,{PluginLightbox:PluginLightbox}),$.fn.themePluginLightbox=function(opts){return this.each(function(){var $this=$(this);return $this.data("__lightbox")?$this.data("__lightbox"):new PluginLightbox($this,opts)})}}.apply(this,[window.theme,jQuery]),function(theme,$){theme=theme||{};var instanceName="__portlet",storageOrderKey="__portletOrder",storageStateKey="__portletState",PluginPortlet=function($el,opts){return this.initialize($el,opts)};PluginPortlet.defaults={connectWith:"[data-plugin-portlet]",items:"[data-portlet-item]",handle:".portlet-handler",opacity:.7,placeholder:"portlet-placeholder",cancel:"portlet-cancel",forcePlaceholderSize:!0,forceHelperSize:!0,tolerance:"pointer",helper:"original",revert:200},PluginPortlet.prototype={initialize:function($el,opts){return $el.data("__portlet")?this:(this.$el=$el,this.setData().setOptions(opts).build(),this)},setData:function(){return this.$el.data("__portlet",this),this},setOptions:function(opts){var _self=this;return this.options=$.extend(!0,{},PluginPortlet.defaults,opts,{wrapper:this.$el,update:this.onUpdate,create:this.onLoad}),this},onUpdate:function(event,ui){var key=storageOrderKey,data=store.get(key),$this=$(this),porletId=$this.prop("id");data||(data={}),porletId&&(data[porletId]=$this.sortable("toArray"),store.set(key,data))},onLoad:function(event,ui){var key=storageOrderKey,data=store.get(key),$this,porletId=$(this).prop("id"),portlet=$("#"+porletId);if(data){var panels=data[porletId];panels&&$.each(panels,function(index,panelId){$("#"+panelId).appendTo(portlet)})}},saveState:function(panel){var key=storageStateKey,data=store.get(key),panelId=panel.prop("id");if(data||(data={}),!panelId)return this;var collapse,isCollapsed=!!panel.find(".panel-actions").children("a.fa-caret-up, a.fa-caret-down").hasClass("fa-caret-up"),isRemoved;return!panel.closest("body").get(0)?data[panelId]="removed":isCollapsed?data[panelId]="collapsed":delete data[panelId],store.set(key,data),this},loadState:function(){var key=storageStateKey,data=store.get(key);return data&&$.each(data,function(panelId,state){var panel=$("#"+panelId);panel.data("portlet-state-loaded")||("collapsed"==state?panel.find(".panel-actions a.fa-caret-down").trigger("click"):"removed"==state&&panel.find(".panel-actions a.fa-times").trigger("click"),panel.data("portlet-state-loaded",!0))}),this},build:function(){var _self=this,portlet;return $.isFunction($.fn.sortable)&&(this.$el.sortable(this.options),this.$el.find("[data-portlet-item]").each(function(){_self.events($(this))})),this.$el.css("min-height",150),this},events:function($el){var _self=this,portlet=$el.closest("[data-plugin-portlet]");return this.loadState(),$el.find(".panel-actions").on("click","a.fa-caret-up, a.fa-caret-down, a.fa-times",function(e){setTimeout(function(){_self.saveState($el)},250)}),this}},$.extend(theme,{PluginPortlet:PluginPortlet}),$.fn.themePluginPortlet=function(opts){return this.map(function(){var $this=$(this);return $this.data("__portlet")?$this.data("__portlet"):new PluginPortlet($this,opts)})}}.apply(this,[window.theme,jQuery]),function(theme,$){theme=theme||{};var instanceName="__scrollable",PluginScrollable=function($el,opts){return this.initialize($el,opts)};PluginScrollable.defaults={contentClass:"scrollable-content",paneClass:"scrollable-pane",sliderClass:"scrollable-slider",alwaysVisible:!0,preventPageScrolling:!0},PluginScrollable.prototype={initialize:function($el,opts){return $el.data(instanceName)?this:(this.$el=$el,this.setData().setOptions(opts).build(),this)},setData:function(){return this.$el.data(instanceName,this),this},setOptions:function(opts){return this.options=$.extend(!0,{},PluginScrollable.defaults,opts,{wrapper:this.$el}),this},build:function(){return this.options.wrapper.nanoScroller(this.options),this}},$.extend(theme,{PluginScrollable:PluginScrollable}),$.fn.themePluginScrollable=function(opts){return this.each(function(){var $this=$(this);return $this.data(instanceName)?$this.data(instanceName):new PluginScrollable($this,opts)})}}.apply(this,[window.theme,jQuery]),function(theme,$){theme=theme||{};var instanceName="__slider",PluginSlider=function($el,opts){return this.initialize($el,opts)};PluginSlider.defaults={},PluginSlider.prototype={initialize:function($el,opts){return $el.data("__slider")?this:(this.$el=$el,this.setVars().setData().setOptions(opts).build(),this)},setVars:function(){var $output=$(this.$el.data("plugin-slider-output"));return this.$output=$output.get(0)?$output:null,this},setData:function(){return this.$el.data("__slider",this),this},setOptions:function(opts){var _self=this;return this.options=$.extend(!0,{},PluginSlider.defaults,opts),this.$output&&$.extend(this.options,{slide:function(event,ui){_self.onSlide(event,ui)}}),this},build:function(){return this.$el.slider(this.options),this},onSlide:function(event,ui){ui.values?this.$output.val(ui.values[0]+"/"+ui.values[1]):this.$output.val(ui.value),this.$output.trigger("change")}},$.extend(theme,{PluginSlider:PluginSlider}),$.fn.themePluginSlider=function(opts){return this.each(function(){var $this=$(this);return $this.data("__slider")?$this.data("__slider"):new PluginSlider($this,opts)})}}.apply(this,[window.theme,jQuery]),function(theme,$){theme=theme||{};var instanceName="__toggle",PluginToggle=function($el,opts){return this.initialize($el,opts)};PluginToggle.defaults={duration:350,isAccordion:!1,addIcons:!0},PluginToggle.prototype={initialize:function($el,opts){return $el.data("__toggle")?this:(this.$el=$el,this.setData().setOptions(opts).build(),this)},setData:function(){return this.$el.data("__toggle",this),this},setOptions:function(opts){return this.options=$.extend(!0,{},PluginToggle.defaults,opts,{wrapper:this.$el}),this},build:function(){var self=this,$wrapper,$items=this.options.wrapper.find(".toggle"),$el=null;return $items.each(function(){$el=$(this),self.options.addIcons&&$el.find("> label").prepend($("<i />").addClass("fa fa-plus"),$("<i />").addClass("fa fa-minus")),$el.hasClass("active")&&($el.find("> p").addClass("preview-active"),$el.find("> .toggle-content").slideDown(self.options.duration)),self.events($el)}),self.options.isAccordion&&(self.options.duration=self.options.duration/2),this},events:function($el){var self=this,previewParCurrentHeight=0,previewParAnimateHeight=0,toggleContent=null;$el.find("> label").click(function(e){var $this=$(this),parentSection=$this.parent(),parentWrapper=$this.parents(".toggle"),previewPar=null,closeElement=null;self.options.isAccordion&&void 0!==e.originalEvent&&(closeElement=parentWrapper.find(".toggle.active > label"))[0]==$this[0]||(parentSection.toggleClass("active"),parentSection.find("> p").get(0)&&(previewPar=parentSection.find("> p"),previewParCurrentHeight=previewPar.css("height"),previewPar.css("height","auto"),previewParAnimateHeight=previewPar.css("height"),previewPar.css("height",previewParCurrentHeight)),toggleContent=parentSection.find("> .toggle-content"),parentSection.hasClass("active")?($(previewPar).animate({height:previewParAnimateHeight},self.options.duration,function(){$(this).addClass("preview-active")}),toggleContent.slideDown(self.options.duration,function(){closeElement&&closeElement.trigger("click")})):($(previewPar).animate({height:0},self.options.duration,function(){$(this).removeClass("preview-active")}),toggleContent.slideUp(self.options.duration)))})}},$.extend(theme,{PluginToggle:PluginToggle}),$.fn.themePluginToggle=function(opts){return this.map(function(){var $this=$(this);return $this.data("__toggle")?$this.data("__toggle"):new PluginToggle($this,opts)})}}.apply(this,[window.theme,jQuery]),function(theme,$){theme=theme||{};var instanceName="__widgetTodoList",WidgetTodoList=function($el,opts){return this.initialize($el,opts)};WidgetTodoList.defaults={},WidgetTodoList.prototype={initialize:function($el,opts){return $el.data(instanceName)?this:(this.$el=$el,this.setData().setOptions(opts).build().events(),this)},setData:function(){return this.$el.data(instanceName,this),this},setOptions:function(opts){return this.options=$.extend(!0,{},WidgetTodoList.defaults,opts),this},check:function(input,label){input.is(":checked")?label.addClass("line-through"):label.removeClass("line-through")},build:function(){var _self=this,$check;return this.$el.find(".todo-check").each(function(){var label=$(this).closest("li").find(".todo-label");_self.check($(this),label)}),this},events:function(){var _self=this,$remove=this.$el.find(".todo-remove"),$check=this.$el.find(".todo-check"),$window=$(window);return $remove.on("click.widget-todo-list",function(ev){ev.preventDefault(),$(this).closest("li").remove()}),$check.on("change",function(){var label=$(this).closest("li").find(".todo-label");_self.check($(this),label)}),$.isFunction($.fn.sortable)&&this.$el.sortable({sort:function(event,ui){var top=event.pageY-_self.$el.offset().top-ui.helper.outerHeight(!0)/2;ui.helper.css({top:top+"px"})}}),this}},$.extend(theme,{WidgetTodoList:WidgetTodoList}),$.fn.themePluginWidgetTodoList=function(opts){return this.each(function(){var $this=$(this);return $this.data(instanceName)?$this.data(instanceName):new WidgetTodoList($this,opts)})}}.apply(this,[window.theme,jQuery]),function(theme,$){theme=theme||{};var instanceName="__widgetToggleExpand",WidgetToggleExpand=function($el,opts){return this.initialize($el,opts)};WidgetToggleExpand.defaults={},WidgetToggleExpand.prototype={initialize:function($el,opts){return $el.data(instanceName)?this:(this.$el=$el,this.setData().setOptions(opts).build().events(),this)},setData:function(){return this.$el.data(instanceName,this),this},setOptions:function(opts){return this.options=$.extend(!0,{},WidgetToggleExpand.defaults,opts),this},build:function(){return this},events:function(){var _self=this,$toggler;return this.$el.find(".widget-toggle").on("click.widget-toggler",function(){_self.$el.hasClass("widget-collapsed")?_self.expand(_self.$el):_self.collapse(_self.$el)}),this},expand:function(content){content.children(".widget-content-expanded").slideDown("fast",function(){$(this).css("display",""),content.removeClass("widget-collapsed")})},collapse:function(content){content.children(".widget-content-expanded").slideUp("fast",function(){content.addClass("widget-collapsed"),$(this).css("display","")})}},$.extend(theme,{WidgetToggleExpand:WidgetToggleExpand}),$.fn.themePluginWidgetToggleExpand=function(opts){return this.each(function(){var $this=$(this);return $this.data(instanceName)?$this.data(instanceName):new WidgetToggleExpand($this,opts)})}}.apply(this,[window.theme,jQuery]),function(theme,$){theme=theme||{};var instanceName="__wordRotate",PluginWordRotate=function($el,opts){return this.initialize($el,opts)};PluginWordRotate.defaults={delay:2e3},PluginWordRotate.prototype={initialize:function($el,opts){return $el.data(instanceName)?this:(this.$el=$el,this.setData().setOptions(opts).build(),this)},setData:function(){return this.$el.data(instanceName,this),this},setOptions:function(opts){return this.options=$.extend(!0,{},PluginWordRotate.defaults,opts,{wrapper:this.$el}),this},build:function(){var $el=this.options.wrapper,itemsWrapper=$el.find(".word-rotate-items"),items=itemsWrapper.find("> span"),firstItem=items.eq(0),firstItemClone=firstItem.clone(),itemHeight=firstItem.height(),currentItem=1,currentTop=0;return itemsWrapper.append(firstItemClone),$el.height(itemHeight).addClass("active"),setInterval(function(){currentTop=currentItem*itemHeight,itemsWrapper.animate({top:-currentTop+"px"},300,function(){++currentItem>items.length&&(itemsWrapper.css("top",0),currentItem=1)})},this.options.delay),this}},$.extend(theme,{PluginWordRotate:PluginWordRotate}),$.fn.themePluginWordRotate=function(opts){return this.each(function(){var $this=$(this);return $this.data(instanceName)?$this.data(instanceName):new PluginWordRotate($this,opts)})}}.apply(this,[window.theme,jQuery]),function($){"use strict";$.isFunction($.fn.dataTable)&&$.extend(!0,$.fn.dataTable.defaults,{sDom:"<'row datatables-header form-inline'<'col-sm-12 col-md-6'l><'col-sm-12 col-md-6'f>r><'table-responsive't><'row datatables-footer'<'col-sm-12 col-md-6'i><'col-sm-12 col-md-6'p>>",oLanguage:{sLengthMenu:"_MENU_ records per page",sProcessing:'<i class="fa fa-spinner fa-spin"></i> Loading'},fnInitComplete:function(settings,json){$.isFunction($.fn.select2)&&$(".dataTables_length select",settings.nTableWrapper).select2({minimumResultsForSearch:-1});var options=$("table",settings.nTableWrapper).data("plugin-options")||{},$search=$(".dataTables_filter input",settings.nTableWrapper);$search.attr({placeholder:void 0!==options.searchPlaceholder?options.searchPlaceholder:"Search"}).addClass("form-control"),$.isFunction($.fn.placeholder)&&$search.placeholder()}})}.apply(this,[jQuery]),function($){"use strict";"undefined"!=typeof PNotify&&(PNotify.prototype.options.styling="fontawesome",$.extend(!0,PNotify.prototype.options,{shadow:!1,stack:{spacing1:15,spacing2:15}}),$.extend(PNotify.styling.fontawesome,{container:"notification",notice:"notification-warning",info:"notification-info",success:"notification-success",error:"notification-danger",notice_icon:"fa fa-exclamation",info_icon:"fa fa-info",success_icon:"fa fa-check",error_icon:"fa fa-times"}))}.apply(this,[jQuery]);